# Sredictio Training Test.yml
#
# Created on 2019-12-10
# Updated on 2019-12-10
#
# Copyright Ryan Kan 2019
# Made with GitHub's Actions. To find out more, you can check out the following link:
# https://help.github.com/en/actions/automating-your-workflow-with-github-actions/about-github-actions
#
# Description: A file which tests Sredictio's training capability on other systems.

name: Sredictio Training Test

on: [pull_request, push]

jobs:
  Build-for-Ubuntu:
    name: Run Sredictio On Ubuntu
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Set up Python 3.7
      uses: actions/setup-python@v1
      with:
        python-version: 3.7
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
    - name: Download NLTK VADER Lexicon
      run: |
        python -c "import nltk; nltk.download('vader_lexicon')"
    - name: Run Sredictio Traning Program
      run: |
        python Train.py "./Training Data/" S63.SI AMZN Hyperparams.db -n 5 -l 1 -r 0 -o STT -t 0

  Build-for-macOS:
    name: Run Sredictio On MacOS
    runs-on: macOS-latest

    steps:
    - uses: actions/checkout@v1
    - name: Set up Python 3.7
      uses: actions/setup-python@v1
      with:
        python-version: 3.7
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
    - name: Download NLTK VADER Lexicon
      run: |
        python -c "import nltk; nltk.download('vader_lexicon')"
    - name: Run Sredictio Traning Program
      run: |
        python Train.py "./Training Data/" FB BA Hyperparams.db -n 5 -l 1 -r 0 -o STT -t 0

  Build-for-Windows:
    name: Run Sredictio On Windows
    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v1
    - name: Set up Python 3.7
      uses: actions/setup-python@v1
      with:
        python-version: 3.7
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
    - name: Download NLTK VADER Lexicon
      run: |
        python -c "import nltk; nltk.download('vader_lexicon')"
    - name: Run Sredictio Traning Program
      run: |
        python Train.py "./Training Data/" BA FB Hyperparams.db -n 5 -l 1 -r 0 -o STT -t 0
